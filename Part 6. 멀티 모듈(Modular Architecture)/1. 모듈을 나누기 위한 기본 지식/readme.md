- 앱의 규모가 커지면 필연적으로 기능별로 계층별로 앱의 모듈을 나눠야 함
	- 분리 자체가 아키텍처가 영향을 미치는지
	- 어떻게 분리하면 좋을지
	- 만나는 문제들을 어떻게 해결할지 등등

- 모듈이란?
	- 잘 정의된 범위, 논리적으로 타당한 의존성들, 분명한 담당자를 갖고 있으며 앱들에서 재사용되도록 의도된 코드 덩어리
	- 예를 들어 Account 모듈은 로그인/ 로그아웃, 인증 관련 코드가 모여있음
	- 모듈은 앱을 구성하는 벽돌들과 같이 사용됨
	- 하나의 응집성을 갖고 있음

- 모듈을 왜 나눠야함?
	- 프로젝트 코드베이스의 복잡도를 낮게 유지해줌
		- 프로젝트가 커지고 팀원이 늘어나도 생산성 저하를 방지할 수 있음
	- 내부 코드들 사이의 의존도를 낮출 수 있음
		- 테스트 친화성을 높이고 코드 복잡도가 낮아짐
	- 개발자의 자율성 증대
		- 자기 모듈의 ownership을 갖고 담당할 수 있으므로
	- 빌드 속도 증가
		- 병렬 처리로 인한 빌드 속도 증가
	- Play Feature Delivery
		- 동적 기능 모듈의 새 이름
		- 사용자는 필요할 때만 해당 모듈을 다운로드 할 수 있음

- 모듈을 어떻게 나눌 것인가에 대한 질문
	- 이 모듈의 역할은 무엇인가?
		- 어떤 서비스를 제공하는지
		- 다른 모듈이 어떻게 사용해야 하는지
	- 이 모듈은 복잡성을 캡슐화 하고 있는가?
	- 이 코드들은 모듈 하나로 묶으면 충분한가? 좀 더 나뉠 여지가 있는가?
	- 이 코드들은 여러 모듈들이어야 하는가? 하니면 조합이 가능한가

---

-아래는 모듈을 나누는 기준

- 캡슐화
	- 만약 모듈 A가 모듈 B의 내부적인 동작에 강하게 의존하고 있다면 복잡성으로부터 격리하지 못한것
	- 따라서 B는 A의 모듈이 되어야 함

- 재사용성 높은 기능에 따른 분리
	- 네트워크 관련 모듈, 저장소 관련 모듈 등등

- 도메인 지식에 따른 분리

---

-  여러 앱을 컨설팅 해오면서 깨달은 것들
	- 기존에 이미 분류해놓은 패키지 구조를 그대로 모듈로 옮기는 건 보통 결과가 좋지 못함
	- 모듈을 단순히 feature나 팀에 따라서 나누는 것은 이상적인 모듈 구조를 만들지 못한다
	- 하나의 모듈이 너무 많은 역할을 하고 있다면 더 분리해야 한다는 신호일 수 있다
	- 모듈의 사이즈는 모듈 분류의 기준이 될 수 없음
	- 한 모듈이 오직 하나의 다른 플레이어에 의해서 사용된다면 모듈로 분리시킬 필요가 없음


- 모듈 나누는 기준 총정리
	- 도메인 지식 : 하나의 모듈은 그룹화가 될 만큼 명확한 분량의 도메인 지식을 캡슐화 해야 함
	- 잘 정의된 범위 : 좋은 범위는 새로운 기능 조각이 하나의 모듈에 속할지 그렇지 않을지를 애매모호하지 않게 해줘야 함
	- 재사용성 : 모듈이 제공하는 기능은 여러 종류의 앱에서 사용될 수 있어야 함
	- 선택 가능성 : 모듈이 제공하는 기능은 특정 앱에서 활성화 될 수도 있고 아닐 수도 있다
	- 의존성 관리 : 새로운 모듈은 기존 모듈과 확연히 다른 의존성 요구사항을 갖는다
	- 책임조직 : 장기간 이 모듈을 책임질 의지가 있는 팀이 존대

- 모듈은 언제 나눠야 하는가?
	- 빠르면 빠를 수록 좋다!
	- 모듈을 나누는데 늦을 수록 너무 힘들어짐
	
- 모듈을 나누는 절차
	- 나눌 수 있을 듯한 후보 코드를 정한다
	- 해당 코드의 의존성 이슈를 해결한다
	- 목표 모듈이 인터페이스와 임플 모듈 두개로 나눠져야 하는지 결정
	- 모듈을 위한 DI 설정 작성
	- 어느정도 커버리지를 만족할 때까지 단위 테스트 추가
	- 리드미를 작성하고 담당자를 명시
	- 모듈을 작성하고 모든 코드 이동

