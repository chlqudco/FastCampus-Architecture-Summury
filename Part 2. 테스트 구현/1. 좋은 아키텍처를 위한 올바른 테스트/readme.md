- 왜 아키텍처에서 테스트가 중요한가
	- 현실적인 필요성
		- 아키텍처가 수정될 때마다 많은 변화가 생긴다
		- 그 때마다 많은 테스트가 필요함. 사람이 일일히 하기에는 많은 부담이 생김.
		- 앱이 커질수록 QA가 감당할 수 없을만큼 테스트가 필요함
		- 그렇다고 QA가 필요 없다는 말이 아님. 하는일이 당연히 있음
	- 좋은 설계를 촉진함
		- 단일 책임을 잘 지킨 클래스가 테스트 하기 용이함. 이를 추구할 수 있음
		- 의존성이 심한 애는 메소드 테스트가 힘듬
	- 코딩 생산성
		- 리팩토링 같은 걸 한 경우엔 많은 실수가 생길 수 있음
		- 이를 방지하기 위해 좋은 테스트를 구현해 놓으면 확신을 갖고 코딩할 수 있다
	- 지금 당장 테스트를 하지 않으면 10~20%의 비용을 아낄 수 있겠지만 결국 기술적 부채로 남는다.
		- 크래시나 에러나 유저의 불만으로 이어지는 큰 불행을 낳는다.
		- 또한 나중에 가서 하면 더 큰 비용이 든다
	- 협업을 촉진한다
		- 특정 API의 기능과 의도, 올바른 사용법을 단번에 파악할 수 있다.
		- 더 효율적인 코드 리뷰를 할 수 있다.
		- 원 제작자가 아니여도 코드를 쉽게 수정할 수 있다.

- 테스트 범위의 구분 : 테스트를 어떤 수준까지 구현해야 하나?
	- End to end Test : 10% , 유저의 인터렉션을 그대로 시뮬레이션 하는 테스트
	- Integration Test : 20%, 단위 기능 테스트
	- Unit Test : 70%, 대부분은 유닛 테스트, 함수 작동 테스트인가?
	- 역삼각형이나 모래시계 모양이 되는건 피해야 한다

- 안드로이드 테스트의 종류
	- 로컬 테스트 : JVM 위에서 동작하는 테스트
		- 디바이스가 필요 없는 테스트
		- JUnit 라이브러리 사용
		- 실 기기가 필요 없다는 장점이 있다
		- 스몰 테스트 : 가장 작은 단위의 기능 테스트, 유닛 테스트와 비슷
		- 빅 테스트 : 여러 클래스의 상호작용을 통해 하는 테스트
	- Instrumented Test : 실 기기에서 동작하는 테스트
		- Espresso 라이브러리 사용
		- 안정성, 호환성, 성능 테스트는 반드시 실 기기에서 해야 함

- 그래서 뭘 테스트 해야 하나?
	- 무엇을 할지만 결정 되어도 어떻게 할지는 쉽게 결정 될것이다
	- 대원칙 : 테스트는 실제 일어날 수 있는 에러를 예방하기 위한 것
		- 따라서 의미 있는 테스트가 되어야 함
	- 좋은 예 : Edge cases, 극단적인 케이스
		- 바운더리 컨디션, 네트워크 에러, 잘못된 데이터(json이 깨짐), 저장소 오버플로 등등의 상황을 테스트 해봐라
	- 화면 회전이나 다크모드 킨다던가 등등..

- 테스트에 익숙하지 않다면 ?
	- 작은 부분부터 시작하라
		- 독립적인 함수에 대한 JVM 단위 테스트
		- 다른 부분이랑 전혀 관계없는 함수에 대한 테스트를 말함
		- 예를 들어 계산이나 변환 로직을 가진 메서드
		- 쉽게 테스트 할 수 있으니까!
	- 큰 부분부터 시작하라
		- 핵심 시나리오에 대한 E2E 테스트를 하라
		- 그 다음 그 안에 있는 작은 요소를 테스트하는 것
	- 네트워크 통신 같은건 어떻게 함?
		- 실제 코드를 이용하던가??

- 그 외의 테스트 작성 팁
	- matcher를 적극 활용하라
	- interaction 보다 state를 체크하라
	- shared code를 적절히 사용하라
	- api를 mocking 하지 마라. 특히 context
	- Robolectric을 공부해보세요
